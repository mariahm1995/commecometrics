% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ecometric_model.R
\name{ecometric_model}
\alias{ecometric_model}
\title{Run an ecometric model for quantitative environmental variables}
\usage{
ecometric_model(
  points_df,
  env_var = "BIO12",
  transform_fun = function(x) log(x + 1),
  inv_transform_fun = function(x) exp(x) - 1,
  grid_bins_mean = NULL,
  grid_bins_sd = NULL,
  min_species = 3
)
}
\arguments{
\item{points_df}{A data frame with columns: \code{mean_trait}, \code{sd_trait}, \code{count_trait}, and the environmental variable.}

\item{env_var}{Name of the environmental variable (e.g., "BIO12").}

\item{transform_fun}{Optional transformation function for environmental variable (e.g., \code{log(x + 1)}).}

\item{inv_transform_fun}{Optional inverse transformation for environmental variable (e.g., \code{exp(x) - 1}).}

\item{grid_bins_mean}{Number of bins for the mean trait axis (default: computed via Scott's rule).}

\item{grid_bins_sd}{Number of bins for the SD trait axis (default: computed via Scott's rule).}

\item{min_species}{Minimum number of species per point (default = 3).}
}
\value{
A list containing:
\item{points_df}{Filtered input data frame with predicted and observed environmental values, bin assignments, and anomalies.}
\item{eco_space}{Raster-format data frame representing trait space bins with estimated environmental values.}
\item{model}{Linear model object (\code{lm}) relating predicted environmental values to observed environmental values (transformed scale when used).}
\item{correlation}{Output from \code{cor.test}, reporting the Pearson correlation between predicted and observed environmental values (transformed scale when used).}
\item{diagnostics}{Summary stats about bin usage and data coverage.}
\item{settings}{Metadata including the modeled trait and transformation functions.}
\item{prediction_accuracy}{Overall percentage of correct predictions.}
}
\description{
Builds an ecometric trait space for quantitative environmental variables,
estimating environmental values in binned ecometric trait space. Also
calculates anomalies based on observed values.
}
